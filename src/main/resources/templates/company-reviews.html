<!DOCTYPE html>
<html th:replace="~{layouts/main-layout :: main-fragment(
                                                ~{::title},
                                                ~{:: #static-resources},
                                                ~{:: #main},
                                                ~{:: #other-scripts}
                                               )}"
      xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <title>Review c√¥ng ty
        <th:block th:text="${company.name}"></th:block>
    </title>
    <th:block id="static-resources">
        <script async defer src="https://www.google.com/recaptcha/api.js"></script>
    </th:block>
</head>

<body>

<div id="main" th:object="${company}">
    <div class="page-title mt--4">
        <div class="container">
            <ol class="breadcrumb bg-transparent m-0 px-0 py-3">
                <li class="breadcrumb-item"><a href="/">Trang ch·ªß</a></li>
                <li class="breadcrumb-item active">Review C√¥ng ty FSI</li>
            </ol>
        </div>
    </div>
    <div class="container">
        <div class="card p-0 ov-h mb-3">
            <div class="card-body p-0">
                <div class="company-item d-flex flex-column flex-sm-row align-items-start align-items-sm-center justify-content-between">
                    <div class="company-info mb-2 mb-sm-0">
                        <figure class="company-info__logo image is-64x64">
                            <th:block th:insert="~{fragments/general :: image(*{imageName})}"></th:block>
                        </figure>
                        <div class="company-info__detail">
                            <h2 class="company-info__name">
                                <a th:href="@{/companies/{id}(id=*{id})}">
                                    <span th:remove="tag" th:text="*{name}"></span>
                                </a>
                                <span class="company-info__rating">
                                    <th:block th:insert="~{fragments/rating-bar :: rating-bar(*{rating})}"></th:block>
                                    <span class="company-info__rating-count">
                                        <span th:remove="tag" th:text="*{ratingCount}"></span>
                                    </span>
                                </span>
                            </h2>
                            <div class="company-info__other d-flex">
                                                <span class="d-flex align-items-center">
                                                    <span class="ic">
                                                        <img th:src="@{/content/App/svg/rv-work.svg}">
                                                    </span> <span th:remove="tag" th:text="*{companyType}"></span>
                                                </span>
                                <span class="d-flex align-items-center">
                                                    <span class="ic">
                                                        <img th:src="@{/content/App/svg/rv-users-2.svg}">
                                                    </span> <span th:remove="tag" th:text="*{size}"></span>
                                                </span>
                            </div>
                            <div class="company-info__location d-flex">
                                                    <span class="ic">
                                                        <img th:src="@{/content/App/svg/rv-place.svg}">
                                                    </span> <span th:remove="tag" th:text="*{address}"></span>
                            </div>
                        </div>
                    </div>
                    <div class="company-action d-flex flex-row flex-sm-column flex-md-row align-items-center align-items-sm-end align-items-md-center justify-content-end">
                        <a class="mb-0 mb-sm-2 mb-md-0 font-normal btn btn-success rounded-circle button-review"
                           data-target="#Write-review"
                           data-toggle="modal" href="#">
                            <span class="ic"> <i class="fa fa-pencil"></i> </span> <span>Vi·∫øt review</span>
                        </a>
                        <a class="mb-0 mb-sm-0 mb-md-0 font-normal btn btn-outline-secondary rounded-circle button-subscribe"
                           href="#">
                            <span class="ic"> <i class="fa fa-bell-o"></i> </span> <span>Nh·∫≠n th√¥ng b√°o</span>
                        </a>
                    </div>
                </div>
            </div>

        </div>
        <div class="card">
            <div class="card-body detail-switch-nav px-3 py-0">
                <ul class="list-unstyled mb-0">
                    <li class="active">
                        <a class="detail-switch-cmt" data-target="ds-cmt" href="#" title="Xem review">
                            <span>Reviews</span>
                        </a>
                    </li>
                    <li>
                        <a class="detail-switch-qa" data-target="ds-qa" href="#" title="Xem Q&A">
                            <span>Coming soon</span></a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="comments-content" id="ds-cmt">
            <div class="pl-1">
                <th:block
                        th:insert="~{fragments/pagination :: pagination (${reviewPage.number + 1}, ${reviewPage.totalPages})}"></th:block>
            </div>

            <th:block
                    th:insert="~{fragments/review-list :: review-list (${reviewPage.content})}"></th:block>
            <div class="pl-1">
                <th:block
                        th:insert="~{fragments/pagination :: pagination (${reviewPage.number + 1}, ${reviewPage.totalPages})}"></th:block>
            </div>
        </div>

        <!-- Modal #Write-review -->
        <div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" id="Write-review" role="dialog"
             style="height: 100%" tabindex="-1">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title text-center" id="">Vi·∫øt review c√¥ng ty
                            <th:block th:text="${company.name}"></th:block>
                        </h5>
                    </div>
                    <div class="modal-body">
                        <form id="write-review-form" method="post"
                              th:action="@{/api/companies/{id}/reviews(id=${company.id})}">
                            <div class="form-group">
                                <label class="font-bold" for="name">T√™n h·ªç</label>
                                <input class="form-control" name="name"
                                       placeholder="Mu·ªën x∆∞ng t√™n th·∫≠t th√¨ x∆∞ng kh√¥ng th√¨ thui" type="text"/>
                            </div>
                            <div class="form-group">
                                <label class="font-bold" for="position">Ch·ª©c v·ª•</label>
                                <input class="form-control" id="position" name="position"
                                       placeholder="Dev qu√®n / HR hay Manager"/>
                            </div>
                            <div class="form-group">
                                <label class="font-bold" for="DETAIL">Review c√¥ng ty <span class="text-danger">(B·∫Øt bu·ªôc)</span></label>
                                <textarea class="form-control" name="content"
                                          placeholder="B·ª©c x√∫c hay g√¨ th√¨ vi·∫øt d√†i d√†i v√¥ (T·ªëi thi·ªÉu 10 k√≠ t·ª±). N·∫øu mu·ªën xin review, c·ª© b·∫•m n√∫t [Nh·∫≠n th√¥ng b√°o] nha!!"
                                          rows="3"></textarea>
                            </div>
                            <div class="form-group">
                                <label class="font-bold" for="point">Cho ƒëi·ªÉm c√¥ng ty</label>
                                <select class="form-control" id="point" name="rating">
                                    <option value="1">1 ƒëi·ªÉm - Max sida, n√© g·∫•p k·∫ªo h·ªëi h·∫≠n</option>
                                    <option value="2">2 ƒëi·ªÉm - H·∫øt thu·ªëc ch·ªØa, ƒëang t√≠nh ƒë∆∞·ªùng chu·ªìn</option>
                                    <option selected value="3">3 ƒëi·ªÉm - C≈©ng t·∫°m, ƒë·ªÉ coi sao</option>
                                    <option value="4">4 ƒëi·ªÉm - C≈©ng ngon, n√™n l√†m l√¢u d√†i</option>
                                    <option value="5">5 ƒëi·ªÉm - C√¥ng ty tuy·ªát cmn v·ªùi, ƒëu·ªïi c≈©ng m√©o ƒëi</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <div class="g-recaptcha"
                                     th:data-sitekey="${@environment.getProperty('google.recaptcha.site-key')}"></div>
                            </div>
                            <div class="form-group">
                                <p class="mb-0">
                                    Ng∆∞·ªùi ƒëƒÉng ch·ªãu tr√°ch nhi·ªám v·ªÅ t√≠nh x√°c th·ª±c c·ªßa n·ªôi dung ch·ª©
                                    <b>b√™n m√¨nh kh√¥ng c√≥ ch·ªãu</b>, okay?
                                </p>
                            </div>

                        </form>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-secondary" data-dismiss="modal" type="button">H·ªßy b·ªè</button>
                        <button class="btn btn-primary" onclick="handleSubmitWriteNewReview()" type="button">ƒêƒÉng
                            review
                        </button>
                    </div>
                </div>
            </div>

        </div>
        <!-- Modal #Write-comment -->
        <div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" id="Write-comment" role="dialog"
             tabindex="-1">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <form id="write-reply-form">
                            <input name="review-id" type="hidden" value="">
                            <div class="form-group">
                                <label class="font-bold" for="name">T√™n h·ªç</label>
                                <input class="form-control" id="name" name="name"
                                       placeholder="Mu·ªën x∆∞ng t√™n th·∫≠t th√¨ x∆∞ng kh√¥ng th√¨ thui" type="text" value="">
                            </div>
                            <div class="form-group">
                                <label class="font-bold" for="DETAIL">Comment <span
                                        class="text-danger">(B·∫Øt bu·ªôc)</span></label>
                                <textarea class="form-control" id="DETAIL" name="content"
                                          placeholder="B·ª©c x√∫c hay g√¨ th√¨ vi·∫øt d√†i d√†i v√¥ (T·ªëi thi·ªÉu 10 k√≠ t·ª±)."
                                          rows="3"></textarea>
                            </div>
                            <div class="form-group">
                                <label class="font-bold" for="review-reaction">B√†y t·ªè th√°i ƒë·ªô</label>
                                <select class="form-control" id="review-reaction" name="reaction">
                                    <option selected="" value="">üòê Kh√¥ng c·∫£m x√∫c</option>
                                    <option value="LIKE">üëç Like</option>
                                    <option value="DISLIKE">üëé ƒê·∫øch lai</option>
                                    <option value="SHOULD_DELETE">‚ùå X√≥a gi√πm</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <div class="g-recaptcha"
                                     th:data-sitekey="${@environment.getProperty('google.recaptcha.site-key')}"></div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-secondary" data-dismiss="modal" type="button">H·ªßy b·ªè</button>
                        <button class="btn btn-primary" onclick="handleCreateNewReply()" type="button">ƒêƒÉng comment
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal #Reaction-review -->
        <div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" id="Reaction-review"
             role="dialog"
             tabindex="-1">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <form>
                            <input name="review-id" type="hidden" value=""/>
                            <input name="reaction" type="hidden" value=""/>
                            <div class="form-group">
                                <div class="g-recaptcha"
                                     th:data-sitekey="${@environment.getProperty('google.recaptcha.site-key')}"></div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-secondary" data-dismiss="modal" type="button">H·ªßy b·ªè</button>
                        <button class="btn btn-primary" onclick="handleReaction()" type="button">Th·∫£ reaction</button>
                    </div>
                </div>
            </div>
        </div>

    </div>


</div>

<th:block id="other-scripts">
    <script th:src="@{/content/App/js/review.js}" type="text/javascript">
    </script>
</th:block>

</body>

</html>